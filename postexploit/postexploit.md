![Post-Exploitation Basics Banner](https://tryhackme.com/img/banners/default_tryhackme.png)

<p align="center">
   <img src="https://github.com/Kevinovitz/TryHackMe_Writeups/blob/main/postexploit/Post_Exploitation_Basics_Cover.png" alt="Post-Exploitation Basics Logo">
</p>

# Post-Exploitation Basics

This guide contains the answer and steps necessary to get to them for the [Post-Exploitation Basics](https://tryhackme.com/room/postexploit) room.

## Table of contents

- [Enumeration w/ Powerview](#enumeration-w-powerview)
- [Enumeration w/ Bloodhound](#enumeration-w-bloodhound)
- [Dumping hashes w/ mimikatz](#dumping-hashes-w-mimikatz)
- [Golden Ticket Attacks w/ mimikatz](#golden-ticket-attacks-w-mimikatz)
- [Enumeration w/ Server Manager](#enumeration-w-server-manager)
- [Maintaining Access ](#maintaining-access)

### Enumeration w/ Powerview

These questions were a bit difficult as there was no single point of information to use. Multiple posts had different commands, some of which wouldn't work. Some were not listed on each site.

1. What is the shared folder that is not set by default?

   For this I found two commands that could be of use.

   ```cmd
   Get-NetShare

   Invoke-ShareFinder
   ```

   Both would give the attached shared folders. The one without a description is most likely not default.

   POWERVIEW SHARED

   ><details><summary>Click for answer</summary>Share</details>

3. What operating system is running inside of the network besides Windows Server 2019?

   The command that could help with this is `Get-NetComputer`. This would only return a long list of data when used with `-FullData`. Now all we need to do is filter on the operating system as done in the example.

   ```cmd
   Get-NetComputer -FullData | select operatingsystem
   ```

   POWERVIEW OPERATING

   ><details><summary>Click for answer</summary>Windows 10 Enterprise Evaluation</details>

5. I've hidden a flag inside of the users find it

   For this we can actually use the same command as in the example to view the common name (cn) of the user.

   ```cmd
   Get-NetUser | select cn
   ```

   POWERVIEW FLAG

   ><details><summary>Click for answer</summary>POST{P0W3RV13W_FTW}</details>

### Enumeration w/ Bloodhound

To get the necessary data we follow the steps provided. Make sure to use a newer version of the SharpHound.ps1 file. The provided one is incompatible with the latest Bloodhound version. The version in the bloodhound folder works fine.

We copy it to the machine using scp over ssh:

```cmd
scp /usr/lib/bloodhound/resources/app/Collectors/SharpHound.ps1 Administrator:10.10.27.24:C:/Users/Administrator/Downloads/SharpHound.ps1
```

Now we can run the script and copy the loot back to our machine.

```cmd
. .\SharpHound.ps1

Invoke-Bloodhound -CollectionMethod All -Domain CONTROLLER.local -ZipFileName loot.zip
```

```cmd
scp Administrator:10.10.27.24:C:/Users/Administrator/Downloads/loot.zip loot.zip
```

Now we can import it into Bloodhound.

1. What service is also a domain admin

   For this we use the query: "Find all Domain Admins".

   BLOODHOUND DOMAIN ADMINS

   ><details><summary>Click for answer</summary>SQLSERVICE</details>

3. What two users are Kerberoastable?

   For this we can use the query: "List all Kerberoastable Accounts".

   BLOODHOUND KERBEROASTABLE

   ><details><summary>Click for answer</summary>SQLSERVICE, KRBTGT</details>

### Dumping hashes w/ mimikatz

1. what is the Machine1 Password?



   ><details><summary>Click for answer</summary></details>

2. What is the Machine2 Hash?



   ><details><summary>Click for answer</summary></details>

### Golden Ticket Attacks w/ mimikatz




### Enumeration w/ Server Manager

1. What tool allows to view the event logs?



   ><details><summary>Click for answer</summary></details>

2. What is the SQL Service password



   ><details><summary>Click for answer</summary></details>

### Maintaining Access 
